
《图像处理与成像制导》作业(2016-03)
===================================

.. contents:: 作业索引
   :depth: 2
   :local:

提交作业相关信息
----------------

- 评估服务器状态： **开通**
- 作业提交方式：
    - 准确率评估： 发送电子邮件至 **heavyhuangpc AT 163 DOT com** 并抄送 **fred DOT qi AT ieee DOT org**
    - 最终作业提交： 发送电子邮件至 **fred DOT qi AT ieee DOT org**
- 电子邮件标题格式为 [IMGNAV] HW1603 - 学号 - 姓名
- 准确率评估邮件请使用正确的邮件标题，并将你的 ``barcodes_test.zip`` 图像集上的
  识别结果作为附件。
- 最终作业应当包括：书面报告（电子版与纸质版）、程序代码、程序代码运行环境及执行
  说明、测试集上的识别结果。你所提交程序代码应当能够正确运行，并产生与你提交的结
  果一致的文件。
- 提交作业截止时间： 2016年6月21日 23:59:59
 

条形码识别
----------

本次大作业的内容为设计实现图像处理分析算法，识别图像中的条形码对应的字符串。所有图像中的条形码均符合
``Code 39``
的标准条形码规范。并且所有条码对应的字符串内容仅包含字母与数字，即字符集
``[a-z0-9]`` 。关于该条码的相关知识可以参考 `Wikipedia 页面
<https://en.wikipedia.org/wiki/Code_39>`_ 。

作业提供了两组图像集，

- ``barcodes_train.zip`` 中的图像供大家调试算法使用，各个图像文件中条形码对应的
   字符串在 ``barcodes_gt_train.txt`` 文件中提供。

- ``barcodes_test.zip`` 中的图像用于测试大家所实现算法的性能，不提供对应的结果。
  本次作业成绩将以在该数据集上的识别率进行评定。

图像集说明
~~~~~~~~~~

训练与测试图像集中不同类别的图像比例相同，均包括以下五类图像，用于全面测试算法性
能。由于后三类图像识别具有挑战性，所以在成绩评定时会适当放宽要求。

-  无干扰 (20%) 
-  不同水平的高斯噪声 (50%) 
-  背景色 (10%)
-  图像旋转 (10%)
-  几何畸变 (10%)

识别正确率评估代码
------------------

为方便大家调试，我们提供了识别结果的评估代码。

.. literalinclude:: HW1603_files/barcodes_evaluation.py
   :language: python

为使用评估代码，你需要准备与 ``barcodes_gt_train.txt`` 文件格式一致的识别结果文
件。即文件的每一行为一幅条码图像的识别结果。每一行数据分两栏，左侧为图像文件名，
右侧为条码对应的字符串。如

::

    BC0000.png cfa57v
    BC0001.png hs8n3vgafjj2vzba
    BC0002.png y1dutan750qolg3
    BC0003.png 6e1dk6nv87u
    BC0004.png ly54xgsafimj3z2

可以使用如下方式调用评估函数，

.. code:: python

    accuracy_evaluation('your_results.txt', 'barcodes_gt_train.txt')

典型的输出结果如下：

::

    BC0000.png 111111000
    BC0001.png 1111111111111111
    BC0002.png 11111001111111100
    BC0003.png 11100111111
    BC0004.png 110011111111111

    Accuracy: 57/68 x 100% =  83.82%

结果中的每一行表示某一幅条形码图像的识别结果。其中 ``1`` 的位置表示这一位识别正确，
 ``0`` 的位置表示这一位识别错误或这一位不存在。特别提醒，各行结果的长度可能并
不是真实字符串的长度，如 ``BC0002.png`` 对应的行。


也可以使用命令行方式评估,

.. code:: bash

    python barcodes_evaluation.py your_results.txt barcodes_gt_train.txt
		  

评估服务器
----------

为便于大家在提交最终作业前对测试集上的识别正确率有一个清楚的认识。我们提供了识别
正确率评估的服务器。大家可以通过邮件方式提交作业，如果邮件标题符合要求且邮件包含
结果文件，服务器会自动执行评估代码，并回复包含识别正确率的邮件。邮件的内容仅包括
总体正确率（Accuracy），而不会包含每一幅图像各字符串的识别结果。

服务器采用轮询的方式查收邮件，每3到4个小时进行一次邮件收取和识别正确率评估。


数据与代码下载
--------------

- :download:`训练数据集 <HW1603_files/barcodes_train.zip>`
- :download:`训练数据集真值 <HW1603_files/barcodes_gt_train.txt>`
- :download:`识别正确率评估代码 <HW1603_files/barcodes_evaluation.py>`
- :download:`测试数据集 <HW1603_files/barcodes_test.zip>`
- :download:`测试数据集识别结果提交文件样例 <HW1603_files/barcodes_submission.txt>`


